name = "timehut-media-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Local development with MinIO
[env.development]
vars = { ENVIRONMENT = "development" }

# Production with Cloudflare R2
[env.production]
vars = { ENVIRONMENT = "production" }

# R2 binding for production
[[env.production.r2_buckets]]
binding = "R2"
bucket_name = "timehut-media"

# Environment variables (set via `wrangler secret put` or in .env)
# - FIREBASE_SERVICE_ACCOUNT_KEY
# - MINIO_ENDPOINT (development only)
# - MINIO_ACCESS_KEY (development only)
# - MINIO_SECRET_KEY (development only)
# - MINIO_BUCKET (development only)
# - SIGNED_URL_EXPIRY_SECONDS
